const checkElement=async t=>{for(;null===document.querySelector(t);)await new Promise(t=>requestAnimationFrame(t));return!0};function getBbbVersion(){return document.querySelector("#app")&&document.querySelector('button[aria-label="Raise hand"]')?2.3:document.querySelector("#layout")&&document.querySelector('button[aria-label="Raise hand"]')?2.4:2.2}function jam_board_24(){try{var t=document.querySelector('li[data-test="uploadPresentation"]').parentElement,a=document.createElement("li"),o=document.createElement("a"),e=document.createElement("i"),n=document.createElement("div");a.classList="MuiButtonBase-root MuiListItem-root MuiMenuItem-root menuitem--Zqo0Cv  MuiListItem-button",a.setAttribute="-1",a.setAttribute="menuitem",a.setAttribute="false",a.style.cssText="padding: 8px 4px; margin-left: 4px; margin-right: 4px",a.id="jam_board",o.style.cssText="display: flex; flex-flow: row; width: 100%;text-decoration:none;",o.href="https://jamboard.google.com/",o.onclick=function(){alert("Starting Google Jamboard in a new tab. Please share your screen for attendees to view your Jamboard.")},o.setAttribute("target","_blank"),e.classList="icon-bbb-desktop",n.innerText="Open Jamboard",n.classList="option--RgzMA",o.appendChild(e),o.appendChild(n),a.appendChild(o),t.appendChild(a)}catch(t){console.log(t)}}function jam_board_23(){try{var t=document.querySelector('li[data-test="uploadPresentation"]').parentElement,a=document.createElement("li"),o=document.createElement("a"),e=document.createElement("i"),n=document.createElement("span");a.classList="item--yl1AH",a.setAttribute="0",a.setAttribute="menuitem",a.setAttribute="dropdown-item-label-66",a.setAttribute="dropdown-item-desc-67",a.id="jam_board",o.style.cssText="display: flex; flex-flow: row; width: 100%;text-decoration:none;",o.href="https://jamboard.google.com/",o.onclick=function(){alert("Starting Google Jamboard in a new tab. Please share your screen for attendees to view your Jamboard.")},o.setAttribute("target","_blank"),e.classList="itemIcon--Z207zn1 icon-bbb-desktop ",n.innerText="Open Jamboard",n.classList="itemLabel--Z12glHA",o.appendChild(e),o.appendChild(n),a.appendChild(o),t.appendChild(a)}catch(t){console.log(t)}}function addJamboard(t){try{2.4===t&&jam_board_24(),2.3===t?jam_board_23():console.log("bbb-jamboard not supported")}catch(t){console.log(t)}}async function manageJamboard(){var t=await checkElement("section[class^=actionsbar]");const o=getBbbVersion();if(t)try{if(0==document.querySelectorAll("#jam_board").length){try{document.querySelector('li[data-test="uploadPresentation"]').parentElement&&addJamboard(o)}catch(t){console.log(t)}var a=document.querySelector("div[class^=actionsbar] > div[class^=center]");const e=new MutationObserver(function(){var t=0!=document.querySelectorAll("#jam_board").length,a=document.querySelector('li[data-test="uploadPresentation"]');if(a&&!t&&addJamboard(o),!a&&t)try{document.getElementById("jam_board").remove()}catch(t){console.log(t)}});e.observe(a,{childList:!0})}}catch(t){console.log(t)}}manageJamboard();
