const checkElement=async o=>{for(;null===document.querySelector(o);)await new Promise(o=>requestAnimationFrame(o));return!0};function addBbbVersion(){var o=document.createElement("div");o.style.display="none",o.id="bbb_version",o.innerText=2.3,document.querySelector("body").appendChild(o)}function getBbbVersion(){var o=document.getElementById("bbb_version").innerText,o=parseFloat(o[0]+o[1]+o[2]);return 2.4==o?2.4:2.3==o?2.3:2.2}function jam_board_24(){var o=document.querySelector('li[data-test="uploadPresentation"]').parentElement,a=document.createElement("li"),e=document.createElement("a"),t=document.createElement("i"),n=document.createElement("div");a.classList="MuiButtonBase-root MuiListItem-root MuiMenuItem-root menuitem--Zqo0Cv  MuiListItem-button",a.setAttribute="-1",a.setAttribute="menuitem",a.setAttribute="false",a.style.cssText="padding: 8px 4px; margin-left: 4px; margin-right: 4px",a.id="jam_board",e.style.cssText="display: flex; flex-flow: row; width: 100%;text-decoration:none;",e.onclick=function(){window.open("https://jamboard.google.com/"),document.querySelector("div[class^=presentationArea]").click(),alert("Starting Google Jamboard in a new tab. Please share your screen for attendees to view your Jamboard."),document.querySelector('button[aria-label="Share your screen"]').click()},e.setAttribute("target","_blank"),t.classList="icon-bbb-desktop",n.innerText="Open Jamboard",n.classList="option--RgzMA",e.appendChild(t),e.appendChild(n),a.appendChild(e),o.appendChild(a)}function jam_board_23(){var o=document.querySelector('li[data-test="uploadPresentation"]').parentElement,a=document.createElement("li"),e=document.createElement("a"),t=document.createElement("i"),n=document.createElement("span");a.classList="item--yl1AH",a.setAttribute="0",a.setAttribute="menuitem",a.setAttribute="dropdown-item-label-66",a.setAttribute="dropdown-item-desc-67",a.id="jam_board",e.style.cssText="display: flex; flex-flow: row; width: 100%;text-decoration:none;",e.onclick=function(){window.open("https://jamboard.google.com/"),document.querySelector("div[class^=presentationArea]").click(),alert("Starting Google Jamboard in a new tab. Please share your screen for attendees to view your Jamboard."),document.querySelector('button[aria-label="Share your screen"]').click()},e.setAttribute("target","_blank"),t.classList="itemIcon--Z207zn1 icon-bbb-desktop ",n.innerText="Open Jamboard",n.classList="itemLabel--Z12glHA",e.appendChild(t),e.appendChild(n),a.appendChild(e),o.appendChild(a)}function addJamboard(o){try{if(2.4===o)return console.log("2.4"),jam_board_24();if(2.3===o)return console.log("2.3"),jam_board_23();console.log("bbb-jamboard not supported")}catch(o){console.log("Could not add jamboard")}}async function manageJamboard(){var o=await checkElement("section[class^=actionsbar]");const e=getBbbVersion();if(o)try{if(0==document.querySelectorAll("#jam_board").length){try{document.querySelector('li[data-test="uploadPresentation"]').parentElement&&addJamboard(e)}catch(o){console.log("Could not add jamboard")}var a=document.querySelector("div[class^=actionsbar] > div[class^=center]");const t=new MutationObserver(function(){var o=0!=document.querySelectorAll("#jam_board").length,a=document.querySelector('li[data-test="uploadPresentation"]');if(a&&!o&&addJamboard(e),!a&&o)try{document.getElementById("jam_board").remove()}catch(o){console.log("Could not remove jamboard")}});t.observe(a,{childList:!0})}}catch(o){console.log("Could not add bbb-jamboard")}}addBbbVersion(),manageJamboard();
