const r=async e=>{while(document.querySelector(e)===null){await new Promise(e=>requestAnimationFrame(e))}return true};function l(){const bbb_server_version=BBB_VERSION;var e=document.createElement("div");e.style.display="none";e.id="bbb_version";e.innerText=bbb_server_version;r(".browser-chrome os-linux")&&document.querySelector("body").appendChild(e)}function i(){const e=document.getElementById("bbb_version").innerText;const t=parseFloat(e[0]+e[1]+e[2]);if(t==2.4){return 2.4}if(t==2.3){return 2.3}else{return 2.2}}function t(){var e=document.querySelector('li[data-test="uploadPresentation"]').parentElement;var t=document.createElement("li");var o=document.createElement("a");var n=document.createElement("i");var a=document.createElement("div");t.classList="MuiButtonBase-root MuiListItem-root MuiMenuItem-root menuitem--Zqo0Cv  MuiListItem-button";t.setAttribute=("tabindex","-1");t.setAttribute=("role","menuitem");t.setAttribute=("aria-disabled","false");t.style.cssText="padding: 8px 4px; margin-left: 4px; margin-right: 4px";t.id="jam_board";o.id="bbb_jamboard_a";o.style.cssText="display: flex; flex-flow: row; width: 100%;text-decoration:none;";o.onclick=function(){document.querySelector("#default-dropdown-menu > div").click();window.open("https://jamboard.google.com/");alert("Starting Google Jamboard in a new tab. Please share your screen for attendees to view your Jamboard.");document.querySelector('button[aria-label="Share your screen"]').click()};n.classList="icon-bbb-desktop";a.innerText="Open Jamboard";a.classList="option--RgzMA";o.appendChild(n);o.appendChild(a);t.appendChild(o);e.appendChild(t)}function o(){var e=document.querySelector('li[data-test="uploadPresentation"]').parentElement;var t=document.createElement("li");var o=document.createElement("a");var n=document.createElement("i");var a=document.createElement("span");t.classList="item--yl1AH";t.setAttribute=("tabindex","0");t.setAttribute=("role","menuitem");t.setAttribute=("aria-labelledby","dropdown-item-label-66");t.setAttribute=("aria-describedby","dropdown-item-desc-67");t.id="jam_board";o.style.cssText="display: flex; flex-flow: row; width: 100%;text-decoration:none;";o.onclick=function(){document.querySelector("div[class^=presentationArea]").click();window.open("https://jamboard.google.com/");alert("Starting Google Jamboard in a new tab. Please share your screen for attendees to view your Jamboard.");document.querySelector('button[aria-label="Share your screen"]').click()};o.setAttribute("target","_blank");n.classList="itemIcon--Z207zn1 icon-bbb-desktop ";a.innerText="Open Jamboard";a.classList="itemLabel--Z12glHA";o.appendChild(n);o.appendChild(a);t.appendChild(o);e.appendChild(t)}function c(e){try{if(e===2.4){console.log("2.4");return t()}if(e===2.3){console.log("2.3");return o()}else{console.log("bbb-jamboard not supported")}}catch(e){console.log("Could not add jamboard")}}async function e(){const e=await r("section[class^=actionsbar]");l();const o=i();if(e){try{if(document.querySelectorAll("#jam_board").length==0){try{if(document.querySelector('li[data-test="uploadPresentation"]').parentElement)c(o)}catch(e){console.log("Could not add jamboard")}const t=document.querySelector("div[class^=actionsbar] > div[class^=center]");const n=function(){const e=document.querySelectorAll("#jam_board").length==0?false:true;var t=document.querySelector('li[data-test="uploadPresentation"]');if(t&&!e){c(o)}if(!t&&e){try{document.getElementById("jam_board").remove()}catch(e){console.log("Could not remove jamboard")}}};const a=new MutationObserver(n);a.observe(t,{childList:true})}}catch(e){console.log("Could not add bbb-jamboard")}}}e();
